# Effect hook を理解する

## 課題 1

cleanup 処理が無いとメモリリークなどの問題を引き起こす可能性があるから。

1. サーバーに、ユーザー ID を使って特定のユーザーの情報を取得するようリクエストしたとする。
2. リクエストが完了する前に、気が変わって別のユーザーの情報を取得するために別のリクエストをしようとする。
3. この時点では、コンポーネントがアンマウントされたり依存関係が変更されたりした後でも、両方のフェッチリクエストが実行され続けることになる。
4. 古い情報を表示したり、マウントされなくなったコンポーネントを更新しようとするなど、予期しない動作やエラーにつながる可能性がある。

したがって、cleanup 処理を用いてアクティブなサブスクリプションや非同期のリクエストを中断することで、アプリケーション内のメモリリーク関連の問題を回避することができる。

## 課題 4

### Q1

React18 と React17 以前では、`useEffect`の挙動にどのような違いがあるでしょうか？  
(※[StrictMode](https://react.dev/reference/react/StrictMode) であるとする。)
またこの挙動の違いには、どのような背景があるでしょうか？
