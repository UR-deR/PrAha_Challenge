## 解答

## 課題1

### 外部キー制約が使うことができない

`belongs_to_id`には`Mangaテーブルのid` or `Novelテーブルのid`が入るため、外部キー制約を用いることができない。すなわち、RDBの制約として参照先に存在しない値が入ってしまう恐れがある。(パフォーマンスなどの観点で、外部キー制約を用いるべきかどうかは別途考える必要はある)

## 課題2

`mangas`テーブルと`novels`テーブルの親テーブルとして`books`テーブルを作成し、外部キー制約を用いることができるようにした。

※ booksテーブルに`manga`or`novel`が入る`type`カラムを追加させるのが頭によぎったが、manga or novelどちらか固有のカラムがある場合にbooksテーブルがそれらを持つことに疑義があるため、サブタイプとして切り出すことにした。

![tags (11)](https://user-images.githubusercontent.com/76472239/193437594-5100de2f-1aba-47a1-b6d8-16a0b45c15a1.png)




