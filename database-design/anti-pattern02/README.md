## 解答

## 課題１

### 「どのような問題が生じるか」

### タグの数がカラム数に依存している

Post テーブルのタグに関してのカラムは 3 つしかないため、将来的な仕様変更によって 4 つ以上のタグを設定したいという要求が発生した時に対応できない。また設定できるタグの数が変更するたびにカラムを一個増やす DDL を発行するオペレーションコストが発生してしまう。

### 検索・更新・削除が厄介

たとえば`タグT`を持つ Post を検索したいとすると以下のようなクエリを発行することになる。

```sql
SELECT * FROM Post WHERE tag1id=タグTのid OR tag2id=タグTのid OR tag3id=タグTのid;
```

カラムの数だけ SQL 文が長くなってしまい漏れが誘発されうる。

またある Post に対して`タグU`を持たせたいとする場合、

1. その Post が既にタグ U を持っていないかどうか
2. その Post の tag1id, tag2id, tag3id のいずれかに NULL があるかどうか

を事前に確認する必要がある。
1Post に 50 個、100 個のタグを付けられるような仕様になった場合大変。

## 課題2


![tags (1)](https://user-images.githubusercontent.com/76472239/190937254-b215b431-da0a-43da-9c88-bbf0e27ff3b1.png)

`Post`と`Tag`は互いに非依存な関係なので交差テーブルで関係性を表現する。そうすることによって課題1で提示した問題点が解決できそう。
